<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="format-detection" content="telephone=no">

<title>ç®•è°·SC å‹•ç”»å…±æœ‰ã‚·ã‚¹ãƒ†ãƒ </title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
<link rel="manifest" href="manifest.json" />
<link rel="stylesheet" href="styles.css" />
</head>
<body>

  <main class="container">
    <header class="header card">
      <h1 id="title">âš½ï¸ç®•è°·SC å‹•ç”»å…±æœ‰ã‚·ã‚¹ãƒ†ãƒ âš½ï¸</h1>
    </header>

    <!-- â–¼ ãƒãƒ¼ãƒ å‚åŠ  -->
<section class="section-card" id="teamSection">   
     <section class="section-card" id="teamSection"> <div class="team-title-row">
        <h2 class="page-title">ãƒãƒ¼ãƒ å‚åŠ  / ãƒ­ã‚°ã‚¤ãƒ³</h2>
        <img src="minotani-logo.png" class="team-logo" alt="minotani logo">
      </div>

<div class="row">
  <input id="teamNameInput" placeholder="ãƒãƒ¼ãƒ åï¼ˆä¾‹ï¼šç®•è°·SCï¼‰" />
</div>

<div class="row">
  <input id="inviteCodeInput" placeholder="æ‹›å¾…ã‚³ãƒ¼ãƒ‰" />
</div>

<div class="row">
  <button id="btnJoin" class="btn primary">å‚åŠ  / ä½œæˆ</button>
</div>
      
      <p class="muted small">æ‹›å¾…ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ãƒãƒ¼ãƒ å…±æœ‰ã§ãã¾ã™ã€‚å®Œå…¨ç„¡æ–™ã® YouTube é™å®šå…¬é–‹æ–¹å¼ã§ã™ã€‚</p>
    </section>

    <!-- â–¼ YouTubeè¿½åŠ  -->
<section class="section-card" id="addVideoSection" style="display:none;">
        <h2>YouTubeå‹•ç”»è¿½åŠ </h2>
        <div class="row">
          <input id="youtubeUrl" placeholder="YouTube ã®å…±æœ‰URLï¼ˆä¾‹ https://youtu.be/xxxxxï¼‰" />
          <button id="btnAddYouTube" class="btn primary">è¿½åŠ </button>
        </div>
        <p class="muted small">å‹•ç”»ã¯ YouTube ã«é™å®šå…¬é–‹ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦å…±æœ‰ã—ã¦ãã ã•ã„ã€‚</p>
      </section>

    <!-- è©¦åˆä½œæˆï¼ˆä¿®æ­£ç‰ˆï¼‰ -->
<section class="section-card" id="createMatchSection" style="display:none;">
  <h2>è©¦åˆçµæœä½œæˆ</h2>  

  <!-- è©¦åˆç¨®åˆ¥ -->
  <div class="row vertical">
    <label class="lbl">è©¦åˆç¨®åˆ¥</label>
    <select id="matchTypeCreate">    
      <option value="">é¸æŠã—ã¦ãã ã•ã„</option>     
      <option value="å…¬å¼æˆ¦">å…¬å¼æˆ¦</option>  
      <option value="ã‚«ãƒƒãƒ—æˆ¦">ã‚«ãƒƒãƒ—æˆ¦</option>      
      <option value="äº¤æµæˆ¦">äº¤æµæˆ¦</option>   
    </select>  
  </div>

  <!-- æ—¥ä»˜ -->
  <div class="row vertical">
    <label class="lbl">è©¦åˆæ—¥</label>
    <input id="matchDate" type="date" /> 
  </div>

  <!-- å¯¾æˆ¦ç›¸æ‰‹ -->
  <div class="row vertical">
    <label class="lbl">å¯¾æˆ¦ç›¸æ‰‹</label>
    <input id="opponent" placeholder="ä¾‹ï¼šâ—‹â—‹SC" /> 
  </div>

  <!-- ä¼šå ´ -->
  <div class="row vertical">
    <label class="lbl">ä¼šå ´</label>
    <input id="place" placeholder="ä¾‹ï¼šã—ã‚ã‚ã›ã®æ‘ã€€çƒæŠ€å ´" />  
  </div>

  <!-- å¾—ç‚¹ -->
  <div class="row vertical">
    <label class="lbl">å¾—ç‚¹</label>
    <div class="row">
      <input id="scoreA" type="number" min="0" placeholder="è‡ªãƒãƒ¼ãƒ å¾—ç‚¹" />
      <input id="scoreB" type="number" min="0" placeholder="ç›¸æ‰‹ãƒãƒ¼ãƒ å¾—ç‚¹" />
    </div>
  </div>

  <!-- ç´ä»˜ã‘å‹•ç”» -->
  <div class="row vertical">
    <label class="lbl">ç´ã¥ã‘å‹•ç”»</label>
    <div class="row">
      <select id="videoSelect"></select>    
      <button id="btnCreateMatch" class="btn">ä½œæˆ</button>     
    </div>
  </div>

  <p class="muted small">ä½œæˆå¾Œã«è©¦åˆçµæœä¸€è¦§ã§ç·¨é›†ã§ãã¾ã™ã€‚</p>
</section>
  
    <!-- â–¼ è©¦åˆçµæœä¸€è¦§ -->
<section class="section-card" id="scoresSection" style="display:none;">       
        <h2>è©¦åˆçµæœä¸€è¦§</h2>
        <div id="scoreGroups"></div>
      </section>

    <!-- â–¼ ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹ï¼ˆå˜ç‹¬é…ç½®ï¼‰-->
    <div style="margin-top:18px; text-align:center;">
      <button id="btnBackLogin" class="btn" style="background:#888; width:90%;">
        ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹
      </button>
    </div>    

    <footer class="card small muted">
      Â© ç®•è°·SC å‹•ç”»å…±æœ‰ã‚·ã‚¹ãƒ†ãƒ  â€” YouTubeé™å®šå…¬é–‹æ–¹å¼ï¼ˆå®Œå…¨ç„¡æ–™ï¼‰
    </footer>

  </main>

<!-- â–¼ ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="editModal" class="modal hidden">
  <div class="modal-content">

<h2>è©¦åˆç·¨é›†</h2>

<div class="row vertical"><label class="lbl">è©¦åˆç¨®åˆ¥</label>
<select id="matchType">
  <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
  <option value="å…¬å¼æˆ¦">å…¬å¼æˆ¦</option>
  <option value="ã‚«ãƒƒãƒ—æˆ¦">ã‚«ãƒƒãƒ—æˆ¦</option>
  <option value="äº¤æµæˆ¦">äº¤æµæˆ¦</option>
</select>
</div>

<div class="row vertical"><label class="lbl">è©¦åˆæ—¥</label><input type="date" id="edit-date"></div>
    
<div class="row vertical"><label class="lbl">å¯¾æˆ¦ç›¸æ‰‹</label>
<input type="text" id="edit-opponent">
</div>

<div class="row vertical"><label class="lbl">ä¼šå ´</label>
<input type="text" id="edit-place">
</div>

<div class="row vertical"><label class="lbl">è‡ªãƒãƒ¼ãƒ å¾—ç‚¹</label>
<input type="number" id="edit-my-score">
</div>

<div class="row vertical"><label class="lbl">ç›¸æ‰‹ãƒãƒ¼ãƒ å¾—ç‚¹</label>
<input type="number" id="edit-opponent-score">
</div>

<div class="row vertical"><label class="lbl">ç´ã¥ã‘å‹•ç”»</label>
<select id="edit-video-select"></select>
</div>

    <div class="row" style="align-items:flex-start;">
      <label style="min-width:110px; align-self:center; margin:0;">è‡ªãƒãƒ¼ãƒ ã‚´ãƒ¼ãƒ«ç§’æ•°</label>
      <div style="flex:1;">
        <div class="row" style="gap:8px;">
          <input id="hlSeconds" type="number" placeholder="ä¾‹ï¼š85" />
          <button id="btnMarkGoal" class="btn">è¿½åŠ </button>
        </div>
        <div id="hlList" class="muted small" style="margin-top:8px;"></div>
      </div>
    </div>

    <div class="row">
      <label style="min-width:110px; align-self:center; margin:0;">ãƒã‚¤ãƒ©ã‚¤ãƒˆç§’æ•°</label>
      <div id="edit-highlight-list" style="flex:1;"></div>
    </div>

    <div class="row" style="margin-top:12px;">
      <button id="saveEdit" class="save-btn" style="flex:1;">ä¿å­˜</button>
    </div>

    <div class="row" style="margin-top:8px;">
      <button id="deleteMatch" class="delete-btn" style="flex:1;">ã“ã®è©¦åˆã‚’å‰Šé™¤</button>
    </div>

    <div class="row" style="margin-top:8px;">
      <button id="modalClose" class="close-btn" style="flex:1;">é–‰ã˜ã‚‹</button>
    </div>

  </div>
</div>

<!-- â–¼ Firebase åˆæœŸåŒ–ï¼ˆã“ã“ã‚’è¿½åŠ ï¼ï¼‰ -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { 
    getFirestore, collection, addDoc, setDoc, doc, getDocs, getDoc, updateDoc, deleteDoc 
  } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

  // Firebase è¨­å®š
  const firebaseConfig = {
    apiKey: "AIzaSyDMJfAd5BffteapT51ZUO06VP-XDReFSwY",
    authDomain: "minotani-sc-app.firebaseapp.com",
    projectId: "minotani-sc-app",
    storageBucket: "minotani-sc-app.firebasestorage.app",
    messagingSenderId: "757066295000",
    appId: "1:757066295000:web:1c7a90f968af75d26099ad"
  };

  // Firebase åˆæœŸåŒ–
  const app = initializeApp(firebaseConfig);

  // Firestore åˆæœŸåŒ–
  const db = getFirestore(app);

  // ğŸ”¥ main.js ã‹ã‚‰ Firestore ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«å…¨é–¢æ•°ã‚’å…¬é–‹
  window._firebaseDB = db;
  window._firebaseFns = { collection, addDoc, setDoc, doc, getDocs, getDoc, updateDoc, deleteDoc };
</script>

<!-- â–¼ è£½ä½œè€…è¡¨ç¤º -->
<div id="creatorLabel">â­ï¸è£½ä½œè€…ï¼šY.Ninomiya</div>

<script src="main.js"></script>
</body>
</html>
