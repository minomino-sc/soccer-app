<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="format-detection" content="telephone=no">

<title>ç®•è°·SC å‹•ç”»å…±æœ‰ã‚·ã‚¹ãƒ†ãƒ </title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
<link rel="manifest" href="manifest.json" />
<link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <header class="header card">
      <h1 id="title">âš½ï¸ç®•è°·SC å‹•ç”»å…±æœ‰ã‚·ã‚¹ãƒ†ãƒ âš½ï¸</h1>
    </header>

    <!-- â–¼ ãƒãƒ¼ãƒ å‚åŠ  -->
    <section class="card" id="teamSection">
<div class="team-title-row">
  <h2 class="page-title">ãƒãƒ¼ãƒ å‚åŠ  / ãƒ­ã‚°ã‚¤ãƒ³</h2>
  <img src="minotani-logo.png" class="team-logo" alt="minotani logo">
</div>
      <div class="row">
        <input id="teamNameInput" placeholder="ãƒãƒ¼ãƒ åï¼ˆä¾‹ï¼šç®•è°·SC-Aï¼‰" />
        <input id="inviteCodeInput" placeholder="æ‹›å¾…ã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹ï¼šMINO-Aï¼‰" />
        <button id="btnJoin" class="btn primary">å‚åŠ  / ä½œæˆ</button>
      </div>
      <p class="muted small">æ‹›å¾…ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ç°¡æ˜“ã«ãƒãƒ¼ãƒ å…±æœ‰ã§ãã¾ã™ã€‚å®Œå…¨ç„¡æ–™ã® YouTube é™å®šå…¬é–‹æ–¹å¼ã§ã™ã€‚</p>
    </section>
 
    <!-- â–¼ YouTubeè¿½åŠ  -->
    <section class="card" id="addVideoSection" style="display:none;">
      <h2>YouTube å‹•ç”»ã‚’è¿½åŠ </h2>

<h3 id="currentTeamName" style="text-align:center; margin-top:12px;"></h3>
      
      <div class="row">
        <input id="youtubeUrl" placeholder="YouTube ã®å…±æœ‰URLï¼ˆä¾‹ https://youtu.be/xxxxxï¼‰" />
        <button id="btnAddYouTube" class="btn primary">è¿½åŠ </button>
      </div>
      <p class="muted small">å‹•ç”»ã¯ YouTube ã«é™å®šå…¬é–‹ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦å…±æœ‰ã—ã¦ãã ã•ã„ã€‚</p>
    </section>

<!-- â–¼ è©¦åˆä½œæˆ -->
<section class="card" id="createMatchSection" style="display:none;">
  <h2>è©¦åˆï¼ˆScoreï¼‰ã‚’ä½œæˆ</h2>

  <div class="row">
    <select id="matchTypeCreate">
      <option value="">è©¦åˆç¨®åˆ¥ã‚’é¸æŠ</option>
      <option value="å…¬å¼æˆ¦">å…¬å¼æˆ¦</option>
      <option value="ã‚«ãƒƒãƒ—æˆ¦">ã‚«ãƒƒãƒ—æˆ¦</option>
      <option value="äº¤æµæˆ¦">äº¤æµæˆ¦</option>
    </select>
    <input id="matchDate" type="date" />
  </div>
  
  <div class="row">
    <input id="opponent" placeholder="å¯¾æˆ¦ç›¸æ‰‹" />
  </div>

  <div class="row">
    <input id="place" placeholder="ä¼šå ´ï¼ˆæ”¹è¡Œã¯è‡ªå‹•ã§èª¿æ•´ã•ã‚Œã¾ã™ï¼‰" />
  </div>
  <div class="row">
    <input id="scoreA" placeholder="è‡ªãƒãƒ¼ãƒ å¾—ç‚¹" type="number" min="0" />
    <input id="scoreB" placeholder="ç›¸æ‰‹å¾—ç‚¹" type="number" min="0" />
  </div>
  <div class="row">
    <select id="videoSelect"><option value="">â€” ç´ã¥ã‘å‹•ç”»ãªã— â€”</option></select>
    <button id="btnCreateMatch" class="btn">ä½œæˆ</button>
  </div>

  <p class="muted small">ä½œæˆå¾Œã«ã‚«ãƒ¼ãƒ‰ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨ç·¨é›†ã§ãã¾ã™ã€‚</p>

  <div style="margin-top:12px;">
    <button id="btnBackLogin" class="btn" style="background:#888;">
      ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹
    </button>
  </div>

</section>

<!-- â–¼ ã‚¹ã‚³ã‚¢ä¸€è¦§ -->
<section class="card" id="scoresSection" style="display:none;">
  <h2>ã‚¹ã‚³ã‚¢ä¸€è¦§</h2>
  <div id="scoreGroups"></div>
</section>

    <footer class="card small muted">Â© ç®•è°·SC å‹•ç”»å…±æœ‰ã‚·ã‚¹ãƒ†ãƒ  â€” YouTubeé™å®šå…¬é–‹æ–¹å¼ï¼ˆå®Œå…¨ç„¡æ–™ï¼‰</footer>
  </main>

<!-- â–¼ ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="editModal" class="modal hidden">
  <div class="modal-content">
    <button id="modalClose" class="close-btn">é–‰ã˜ã‚‹</button>

    <h2>è©¦åˆç·¨é›†</h2>

    <label>æ—¥ä»˜</label>
    <input type="date" id="edit-date">

    <label>è©¦åˆç¨®åˆ¥</label>
    <select id="matchType">
      <option value="">è©¦åˆç¨®åˆ¥ã‚’é¸æŠ</option>
      <option value="å…¬å¼æˆ¦">å…¬å¼æˆ¦</option>
      <option value="ã‚«ãƒƒãƒ—æˆ¦">ã‚«ãƒƒãƒ—æˆ¦</option>
      <option value="äº¤æµæˆ¦">äº¤æµæˆ¦</option>
    </select>
   
    <label>å¯¾æˆ¦ç›¸æ‰‹</label>
    <input type="text" id="edit-opponent">

    <label>ä¼šå ´</label>
    <input type="text" id="edit-place">

    <label>è‡ªãƒãƒ¼ãƒ å¾—ç‚¹</label>
    <input type="number" id="edit-my-score">

    <label>ç›¸æ‰‹å¾—ç‚¹</label>
    <input type="number" id="edit-opponent-score">
  
    <label>è‡ªãƒãƒ¼ãƒ ã‚´ãƒ¼ãƒ«ç§’æ•°</label>
    <div class="row">
      <input id="hlSeconds" type="number" placeholder="ä¾‹ï¼š85" />
      <button id="btnMarkGoal" class="btn">è¿½åŠ </button>
    </div>

    <div id="hlList" class="muted small" style="margin-top:8px;"></div>

    <label>ãƒã‚¤ãƒ©ã‚¤ãƒˆç§’æ•°</label>
    <div id="edit-highlight-list"></div>

    <button id="saveEdit" class="save-btn">ä¿å­˜</button>

    <button id="deleteMatch" class="delete-btn" style="margin-top:16px;">
      ã“ã®è©¦åˆã‚’å‰Šé™¤
    </button>

  </div>
</div>

<!-- â–¼ Firebase åˆæœŸåŒ–ï¼ˆã“ã“ã‚’è¿½åŠ ï¼ï¼‰ -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { 
    getFirestore, collection, addDoc, setDoc, doc, getDocs, getDoc, updateDoc, deleteDoc 
  } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

  // Firebase è¨­å®š
  const firebaseConfig = {
    apiKey: "AIzaSyDMJfAd5BffteapT51ZUO06VP-XDReFSwY",
    authDomain: "minotani-sc-app.firebaseapp.com",
    projectId: "minotani-sc-app",
    storageBucket: "minotani-sc-app.firebasestorage.app",
    messagingSenderId: "757066295000",
    appId: "1:757066295000:web:1c7a90f968af75d26099ad"
  };

  // Firebase åˆæœŸåŒ–
  const app = initializeApp(firebaseConfig);

  // Firestore åˆæœŸåŒ–
  const db = getFirestore(app);

  // ğŸ”¥ main.js ã‹ã‚‰ Firestore ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«å…¨é–¢æ•°ã‚’å…¬é–‹
  window._firebaseDB = db;
  window._firebaseFns = { collection, addDoc, setDoc, doc, getDocs, getDoc, updateDoc, deleteDoc };
</script>

<!-- â–¼ æ—¢å­˜ -->
<script src="main.js"></script>

</body>
</html>
